<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>WW1: Breakout</title>
  <link href="https://fonts.googleapis.com/css2?family=Special+Elite&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <!-- Página Inicial -->
  <div id="page-intro" class="page active" style="background-image: url('https://drive.google.com/uc?id=15_b0kuH8zKdOYNc_7vGSjsLL7FsOoTed');">
    <div id="global-title">
      <h1>WW1: Breakout</h1>
    </div>
    <div class="intro-content">
      <h2>
        Welcome to the WW1 Breakout! Follow Jacques, a French soldier during the Battle of Verdun in 1916.
        Jacques must deliver a crucial message to Captain Henri Boudoux to halt a planned offensive against the Germans, who are preparing a deadly trap.
      </h2>
      <h1>Are you ready to test your knowledge and help Jacques succeed?</h1>
      <button class="button" id="start-game">Enter War Zone</button>

      <div id="code-entry">
        <p>If you already have a code, enter it below to continue to Challenge 3:</p>
        <input type="text" id="code-input" maxlength="5" placeholder="Enter 5-digit code">
        <button class="button" id="code-verify">Continue to Challenge 3</button>
        <p id="code-error" class="hidden" style="color: red; font-weight: bold;">Invalid code. Please try again.</p>
      </div>
    </div>
  </div>

  <!-- Reto 1 -->
  <div id="challenge-1" class="page hidden">
    <h2>Challenge 1: The Causes of World War I</h2>
    <p>Watch the video below, stop it whenever you need, take notes and then, answer the questions to proceed.</p>
    <div class="video-container">
      <iframe width="560" height="315" src="https://www.youtube.com/embed/BXtGneTCMgU" frameborder="0" allowfullscreen></iframe>
    </div>
    <div id="quiz">
      <p id="question-text"></p>
      <div id="answers"></div>
    </div>
  </div>

  <!-- Página de Transición después del Reto 1 -->
  <div id="transition-page" class="page hidden" style="background-image: url('https://drive.google.com/uc?id=1UxLa6yAY0UB_2vdIGY-pTECVUZxLgig3');">
    <h2>Mission Update</h2>
    <p>Jacques has reached the temporary shelter... (text unchanged)</p>
    <button id="to-challenge-2" class="button">Proceed to Challenge 2</button>
  </div>

  <!-- Challenge 2 -->
  <div id="challenge-2" class="page hidden" style="background-image: url('https://i.ibb.co/vv1fS6h/war-map-background.jpg');">
    <div id="map-container">
      <h2>Observe the map carefully</h2>
      <img src="https://drive.google.com/uc?id=1A3O0qayZvs8AuLO1lFZqRQ2s2MPShGDQ" alt="World War I Map" style="width: 80%; max-width: 800px; border-radius: 10px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);">
      <button class="button" id="start-challenge-2">Start Questions</button>
    </div>

    <div id="questions-container-2" class="hidden">
      <h2 id="question-text-2">Loading question...</h2>
      <div id="answers-container-2"></div>
      <button class="button hidden" id="next-button-2">Next</button>
      <p id="error-message-2" class="hidden" style="color: red;">Incorrect! Try again.</p>
    </div>
  </div>

  <!-- Página de Transición después del Reto 2 -->
  <div id="transition-to-challenge-3" class="page hidden">
    <h2>Mission Update</h2>
    <img src="https://drive.google.com/uc?id=1-MH7k8zVMWrE4UPbPfqRJg1iD8ZxhzJN" alt="Mission Briefing" style="max-width: 100%; border-radius: 10px;">
    <p>(text unchanged)</p>
    <p>Your access code is: <strong id="generated-code"></strong></p>
    <p>Enter this code in the box below to proceed to Challenge 3, or save it for later:</p>
    <input type="text" id="access-code" maxlength="5" placeholder="Enter 5-digit code">
    <button id="verify-code" class="button">Submit</button>
    <p id="code-error-message" class="hidden" style="color: red; font-weight: bold;">Invalid code. Please try again.</p>
  </div>

  <!-- Reto 3 -->
  <div id="challenge-3" class="page hidden" style="background-image: url('https://drive.google.com/uc?id=10YcO6NQE4mLXT9ohwdSUVWXGYp6jB1ON');">
    <h2>War of Movements</h2>
    <p>(text unchanged)</p>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/PbwH1ZBnYds" allowfullscreen></iframe>
    <div id="quiz-3-container">
      <h3 id="question-3-text">Loading question...</h3>
      <div id="answers-3-container"></div>
      <p id="error-3-message" class="hidden" style="color: red; font-weight: bold;">Incorrect! Try again.</p>
    </div>
  </div>

  <!-- Página Final -->
  <div id="final-page" class="page hidden" style="background-image: url('https://drive.google.com/uc?id=1-MH7k8zVMWrE4UPbPfqRJg1iD8ZxhzJN');">
    <h2>Jacques has succeeded!</h2>
    <p>(text unchanged)</p>
    <p>Your access code for the next breakout is: <strong id="final-code"></strong></p>
    <button class="button" id="to-shell" style="margin-top: 14px;">Back to Mission Hub</button>
  </div>

  <script src="../shared/progress.js"></script>
  <script src="script.js" defer></script>
</body>
</html>
